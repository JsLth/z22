<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get Census 2022 grid dataset — z22_data • z22</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get Census 2022 grid dataset — z22_data"><meta property="og:description" content="Retrieve the values and coordinates of gridded features from the censuses
2011 and 2022.
When we are talking about a

feature, we talk about an indicator aggregated to grid cells,
 e.g., age or the number of dwellings.
category, we talk about the discrete classifications of
 features, e.g., ages 10 to 19, 20 to 20, 30 to 39, etc.
Both feature and category have to be provided to uniquely identify
 a dataset.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">z22</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Get started with z22</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Census 2022 grid dataset</h1>

    <div class="hidden name"><code>z22_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve the values and coordinates of gridded features from the censuses
2011 and 2022.</p>
<p>When we are talking about a</p>
<ul><li><p><strong>feature</strong>, we talk about an indicator aggregated to grid cells,
 e.g., age or the number of dwellings.</p></li>
<li><p><strong>category</strong>, we talk about the discrete classifications of
 features, e.g., ages 10 to 19, 20 to 20, 30 to 39, etc.</p></li>
<li><p>Both feature and category have to be provided to uniquely identify
 a <strong>dataset</strong>.</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">z22_data</span><span class="op">(</span></span>
<span>  <span class="va">feature</span>,</span>
<span>  categories <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2022</span>,</span>
<span>  res <span class="op">=</span> <span class="st">"1km"</span>,</span>
<span>  all_cells <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rasterize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as_sf <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  update_cache <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-feature">feature<a class="anchor" aria-label="anchor" href="#arg-feature"></a></dt>
<dd><p>A grid feature. See <code><a href="z22_features.html">z22_features</a></code> for a list
of available features. You can pass both English names and legacy names
(i.e., variable names from the 2011 census).</p></dd>


<dt id="arg-categories">categories<a class="anchor" aria-label="anchor" href="#arg-categories"></a></dt>
<dd><p>One or multiple feature categories. See
<code><a href="categories.html">z22_categories</a></code> for a list of available categories. If
<code>NULL</code>, retrieves all categories for a given feature. Generally,
the more categories are selected, the longer the download.</p></dd>


<dt id="arg-res">res<a class="anchor" aria-label="anchor" href="#arg-res"></a></dt>
<dd><p>Resolution of the grid dataset. Can be <code>"100m"</code>,
<code>"1km"</code>, or <code>"10km"</code>. If <code>year</code> is 2011, <code>"10km"</code> is
not available and some features are only available at certain resolutions.</p></dd>


<dt id="arg-all-cells">all_cells<a class="anchor" aria-label="anchor" href="#arg-all-cells"></a></dt>
<dd><p>If <code>TRUE</code>, joins the retrieved attribute with the
complete grid from <code><a href="z22_grid.html">z22_grid</a></code>. Otherwise, the attribute grid
will contain only those grid cells with one or more recorded units. Defaults
to <code>FALSE</code>, because loading the grid and joining with it is
computationally expensive.</p></dd>


<dt id="arg-rasterize">rasterize<a class="anchor" aria-label="anchor" href="#arg-rasterize"></a></dt>
<dd><p>If <code>TRUE</code> and the <code>terra</code> package is installed,
converts the attribute coordinates to a <code><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">SpatRaster</a></code>.</p></dd>


<dt id="arg-as-sf">as_sf<a class="anchor" aria-label="anchor" href="#arg-as-sf"></a></dt>
<dd><p>If <code>TRUE</code> and the <code>sf</code> package is installed,
converts the attribute coordinates to an <code>sf</code> tibble.</p></dd>


<dt id="arg-cache">cache<a class="anchor" aria-label="anchor" href="#arg-cache"></a></dt>
<dd><p>By default, both functions cache attribute files for
the remainder of the R session. They are downloaded to a temporary directory
and - if the file to download already exists - are recovered from the cache.
In other words, when rerunning the same request multiple times, the
subsequent calls should be much faster. If <code>FALSE</code>, disables caching
for this call and overwrites the currently cached attribute file (if any)
with a fresh one. Defaults to <code>TRUE</code>, i.e. always cache.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A tibble, <code><a href="https://rspatial.github.io/terra/reference/sds.html" class="external-link">SpatRasterDataset</a></code> or
<code><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">sf</a></code> tibble depending on the <code>rasterize</code>
and <code>as_sf</code> arguments.</p>
<p>If a tibble is returned each category in <code>categories</code> is stored in
a column. If a <code>SpatRasterDataset</code> is returned, each category is a
named layer.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Half of the grids cell width is added to each coordinate in the
dataset internally. According to the INSPIRE guidelines, coordinates
always represent the South-west of the grid cells. Centroids represent
the geographic location of grid cells better which is why they are used.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get gridded population</span></span></span>
<span class="r-in"><span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu">z22_get_attribute</span><span class="op">(</span><span class="st">"population"</span>, all_cells <span class="op">=</span> <span class="cn">TRUE</span>, rasterize <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in z22_get_attribute("population", all_cells = TRUE, rasterize = TRUE):</span> could not find function "z22_get_attribute"</span>
<span class="r-in"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pop</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in h(simpleError(msg, call)):</span> error in evaluating the argument 'x' in selecting a method for function 'plot': object 'pop' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get data about buildings using district heating</span></span></span>
<span class="r-in"><span><span class="fu">z22_get_attribute</span><span class="op">(</span><span class="st">"buildings"</span>, <span class="st">"HEIZTYP"</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in z22_get_attribute("buildings", "HEIZTYP", 1):</span> could not find function "z22_get_attribute"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

