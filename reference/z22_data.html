<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get Census 2022 grid dataset — z22_data • z22</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Census 2022 grid dataset — z22_data"><meta name="description" content="Retrieve the values and coordinates of gridded features from the censuses
2011 and 2022.
When we are talking about a

feature, we talk about an indicator aggregated to grid cells,
 e.g., age or the number of dwellings.
category, we talk about the discrete classifications of
 features, e.g., ages 10 to 19, 20 to 20, 30 to 39, etc.
Both feature and category have to be provided to uniquely identify
 a dataset.

"><meta property="og:description" content="Retrieve the values and coordinates of gridded features from the censuses
2011 and 2022.
When we are talking about a

feature, we talk about an indicator aggregated to grid cells,
 e.g., age or the number of dwellings.
category, we talk about the discrete classifications of
 features, e.g., ages 10 to 19, 20 to 20, 30 to 39, etc.
Both feature and category have to be provided to uniquely identify
 a dataset.

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">z22</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/z22.html"><span class="fa fa-book"></span> Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jslth/z22/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get Census 2022 grid dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/jslth/z22/blob/main/R/data.R" class="external-link"><code>R/data.R</code></a></small>
      <div class="d-none name"><code>z22_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve the values and coordinates of gridded features from the censuses
2011 and 2022.</p>
<p>When we are talking about a</p>
<ul><li><p><strong>feature</strong>, we talk about an indicator aggregated to grid cells,
 e.g., age or the number of dwellings.</p></li>
<li><p><strong>category</strong>, we talk about the discrete classifications of
 features, e.g., ages 10 to 19, 20 to 20, 30 to 39, etc.</p></li>
<li><p>Both feature and category have to be provided to uniquely identify
 a <strong>dataset</strong>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">z22_data</span><span class="op">(</span></span>
<span>  <span class="va">feature</span>,</span>
<span>  categories <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2022</span>,</span>
<span>  res <span class="op">=</span> <span class="st">"1km"</span>,</span>
<span>  all_cells <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rasterize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as_sf <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  update_cache <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-feature">feature<a class="anchor" aria-label="anchor" href="#arg-feature"></a></dt>
<dd><p>A grid feature. See <code><a href="z22_features.html">z22_features</a></code> for a list
of available features. You can pass both English names and legacy names
(i.e., variable names from the 2011 census).</p></dd>


<dt id="arg-categories">categories<a class="anchor" aria-label="anchor" href="#arg-categories"></a></dt>
<dd><p>One or multiple feature categories. See
<code><a href="categories.html">z22_categories</a></code> for a list of available categories. If
<code>NULL</code>, retrieves all categories for a given feature. Generally,
the more categories are selected, the longer the download.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Census year. Currently, only 2011 and 2022 are available.
Defaults to 2022.</p></dd>


<dt id="arg-res">res<a class="anchor" aria-label="anchor" href="#arg-res"></a></dt>
<dd><p>Resolution of the grid dataset. Can be <code>"100m"</code>,
<code>"1km"</code>, or <code>"10km"</code>. If <code>year</code> is 2011, <code>"10km"</code> is
not available and some features are only available at certain resolutions.</p></dd>


<dt id="arg-all-cells">all_cells<a class="anchor" aria-label="anchor" href="#arg-all-cells"></a></dt>
<dd><p>If <code>TRUE</code>, joins the retrieved attribute with the
complete grid from <code><a href="z22_grid.html">z22_grid</a></code>. Otherwise, the attribute grid
will contain only those grid cells with one or more recorded units. Defaults
to <code>FALSE</code>, because loading the grid and joining with it is
computationally expensive.</p></dd>


<dt id="arg-normalize">normalize<a class="anchor" aria-label="anchor" href="#arg-normalize"></a></dt>
<dd><p>If <code>TRUE</code> and <code>feature</code> is a counted feature,
computes shares by dividing the counts by the total number of units in the
grid cell. The type of unit depends on the theme of the feature, e.g., if
the feature is in theme "Buildings", the feature counts are divided by the
total number of buildings. Note that this operation requires an additional
download (the total number of units). Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-rasterize">rasterize<a class="anchor" aria-label="anchor" href="#arg-rasterize"></a></dt>
<dd><p>If <code>TRUE</code> and the <code>terra</code> package is installed,
converts the attribute coordinates to a <code><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">SpatRaster</a></code>.</p></dd>


<dt id="arg-as-sf">as_sf<a class="anchor" aria-label="anchor" href="#arg-as-sf"></a></dt>
<dd><p>If <code>TRUE</code> and the <code>sf</code> package is installed,
converts the attribute coordinates to an <code>sf</code> tibble.</p></dd>


<dt id="arg-update-cache">update_cache<a class="anchor" aria-label="anchor" href="#arg-update-cache"></a></dt>
<dd><p>By default, both functions cache attribute files for
the remainder of the R session. They are downloaded to a temporary directory
and - if the file to download already exists - are recovered from the cache.
In other words, when rerunning the same request multiple times, the
subsequent calls should be much faster. If <code>TRUE</code>, disables caching
for this call and overwrites the currently cached attribute file (if any)
with a fresh one. Defaults to <code>FALSE</code>, i.e. always cache.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble, <code><a href="https://rspatial.github.io/terra/reference/sds.html" class="external-link">SpatRasterDataset</a></code> or
<code><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">sf</a></code> tibble depending on the <code>rasterize</code>
and <code>as_sf</code> arguments.</p>
<p>If a tibble is returned each category in <code>categories</code> is stored in
a column. If a <code>SpatRasterDataset</code> is returned, each category is a
named layer.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Half of the grids cell width is added to each coordinate in the
dataset internally. According to the INSPIRE guidelines, coordinates
always represent the South-west of the grid cells. Centroids represent
the geographic location of grid cells better which is why they are used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get gridded population</span></span></span>
<span class="r-in"><span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu">z22_data</span><span class="op">(</span><span class="st">"population"</span>, res <span class="op">=</span> <span class="st">"10km"</span>, rasterize <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pop</span><span class="op">$</span><span class="va">cat_0</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="z22_data-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get data about the number of people born in a EU27 country</span></span></span>
<span class="r-in"><span><span class="fu">z22_data</span><span class="op">(</span><span class="st">"birth_country"</span>, categories <span class="op">=</span> <span class="fl">21</span>, res <span class="op">=</span> <span class="st">"1km"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 210,556 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    cat_21       x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>      3 4<span style="text-decoration: underline;">337</span>550 2<span style="text-decoration: underline;">689</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     <span style="color: #BB0000;">NA</span> 4<span style="text-decoration: underline;">341</span>550 2<span style="text-decoration: underline;">689</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     <span style="color: #BB0000;">NA</span> 4<span style="text-decoration: underline;">341</span>550 2<span style="text-decoration: underline;">690</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     <span style="color: #BB0000;">NA</span> 4<span style="text-decoration: underline;">340</span>550 2<span style="text-decoration: underline;">691</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>      3 4<span style="text-decoration: underline;">341</span>550 2<span style="text-decoration: underline;">691</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     <span style="color: #BB0000;">NA</span> 4<span style="text-decoration: underline;">341</span>550 2<span style="text-decoration: underline;">692</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>      3 4<span style="text-decoration: underline;">344</span>550 2<span style="text-decoration: underline;">692</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>      3 4<span style="text-decoration: underline;">340</span>550 2<span style="text-decoration: underline;">693</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     <span style="color: #BB0000;">NA</span> 4<span style="text-decoration: underline;">341</span>550 2<span style="text-decoration: underline;">693</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     <span style="color: #BB0000;">NA</span> 4<span style="text-decoration: underline;">343</span>550 2<span style="text-decoration: underline;">693</span>550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 210,546 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

