[{"path":"https://jslth.github.io/z22/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 z22 authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://jslth.github.io/z22/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jonas Lieth. Maintainer, author, copyright holder.","code":""},{"path":"https://jslth.github.io/z22/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lieth J (2025). z22: Official Gridded Data German Census 2022. doi:10.32614/CRAN.package.z22, https://github.com/jslth/z22/.","code":"@Manual{R-z22,   title = {{z22: Official Gridded Data from the German Census 2022}},   doi = {10.32614/CRAN.package.z22},   author = {Jonas Lieth},   year = {2025},   version = {1.0.0},   url = {https://github.com/jslth/z22/},   abstract = {Quickly and efficiently retrieve gridded census data from Germanys 2011 and 2022 censuses.}, }"},{"path":"https://jslth.github.io/z22/index.html","id":"z22","dir":"","previous_headings":"","what":"Official Gridded Data from the German Census 2022","title":"Official Gridded Data from the German Census 2022","text":"part German census, number socio-economic indicators published small-scale grid level (100m, 1km, 10km). Usually corresponding data files large hard work . z22 aims quickly efficiently retrieve German census grid data. package also eases comparisons grid data census 2011 establishing standardized feature format. Powered z22data data repository hosts census grid data small digestible chunks. Based predecessor package z11 allows easy access gridded data Census 2011.","code":""},{"path":"https://jslth.github.io/z22/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Official Gridded Data from the German Census 2022","text":"can install development version z22 like :","code":"pak::pkg_install(\"jslth/z22\")"},{"path":"https://jslth.github.io/z22/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Official Gridded Data from the German Census 2022","text":"package contains main function, z22_data, retrieve process census grid data. following example downloads feature grid vacancy share Germany 1x1 km resolution.","code":"library(z22) library(terra) #> terra 1.8.43  grid_vac <- z22_data(\"vacancies\", res = \"10km\", rasterize = TRUE) grid_vac #> class       : SpatRasterDataset  #> subdatasets : 1  #> dimensions  : 87, 65 (nrow, ncol) #> nlyr        : 1  #> resolution  : 10000, 10000  (x, y) #> extent      : 4030050, 4680050, 2680050, 3550050  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89-extended / LAEA Europe (EPSG:3035)  #> source(s)   : memory  #> names       : cat_0 library(ggplot2)  df_vac <- z22_pivot_longer(grid_vac, \"vacancies\") ggplot(df_vac) +   geom_tile(aes(x, y, fill = value)) +   coord_sf(crs = 3035) +    facet_wrap(~category, nrow = 2) +   scale_fill_viridis_c(\"Share\", na.value = \"transparent\", transform = \"log2\") +   theme_bw() +   labs(x = NULL, y = NULL) +   theme(panel.grid = element_blank(), axis.text = element_blank())"},{"path":[]},{"path":"https://jslth.github.io/z22/reference/categories.html","id":null,"dir":"Reference","previous_headings":"","what":"Feature categories — categories","title":"Feature categories — categories","text":"features contain total counts averages, others contain figures classified certain categories. can access tables programmatically using z22_categories. clarification terms used category labels, see glossary.","code":""},{"path":"https://jslth.github.io/z22/reference/categories.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature categories — categories","text":"","code":"z22_categories(feature)"},{"path":"https://jslth.github.io/z22/reference/categories.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature categories — categories","text":"feature grid feature. See z22_features list available features. feature provided categories, generates table based feature description.","code":""},{"path":"https://jslth.github.io/z22/reference/categories.html","id":"categories","dir":"Reference","previous_headings":"","what":"Categories","title":"Feature categories — categories","text":"birth_country  sex  religion  citizenship  citizenship_group  citizenship_origin  citizenship_total  age_short  age_long  marital_status  family_type  family_size  household_family  household_lifestyle  household_senior  household_size_group  dwelling_occupancy  dwelling_ownership_home  dwelling_ownership_property  floor_space  dwelling_rooms  dwelling_constr_year  dwelling_building_type  dwelling_building_design  dwelling_building_size  dwelling_heat_type  dwelling_heat_src  building_ownership_property  building_constr_year  building_dwellings  building_size  building_type  building_design  building_heat_type  building_heat_src","code":""},{"path":"https://jslth.github.io/z22/reference/categories.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Feature categories — categories","text":"","code":"z22_categories(\"sex\") #> # A tibble: 2 × 3 #>    code german   english #>   <int> <chr>    <chr>   #> 1     1 Männlich Male    #> 2     2 Weiblich Female   # Features without categories are given code 0 z22_categories(\"families\") #> # A tibble: 1 × 3 #>    code german                  english                  #>   <dbl> <chr>                   <chr>                    #> 1     0 Gesamtzahl der Familien Total number of families"},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":null,"dir":"Reference","previous_headings":"","what":"Definitions and explanations for common Census terms — glossary","title":"Definitions and explanations for common Census terms — glossary","text":"First , package uses couple semi-official terms make easier unequivocally identidy certain parts aspect. talking feature, talk indicator aggregated grid cells,  e.g., age number dwellings. category, talk discrete classifications  features, e.g., ages 10 19, 20 20, 30 39, etc. feature category provided uniquely identify  dataset. documentation collection definitions provided Federal Statistical Office Germany.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Definitions and explanations for common Census terms — glossary","text":"Translated slightly edited version dataset descriptions Zensus 2022 Zensus 2011 gridded datasets Federal Statistical Office Germany.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"building-year","dir":"Reference","previous_headings":"","what":"Building year","title":"Definitions and explanations for common Census terms — glossary","text":"characteristic indicates year construction building living space microcensus classes respective census reference date. year construction refers year building completed. case conversions, extensions additions house, original year construction building applies. case completely destroyed rebuilt buildings, year reconstruction taken year construction.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"building-classifications","dir":"Reference","previous_headings":"","what":"Building classifications","title":"Definitions and explanations for common Census terms — glossary","text":"census distinguishes three types building classifications. close terminologically, need clarification: Building size Originally called \"building type size\"  (Gebäudetyp-Größe), classification provides information  building type relation size. Categories range detached  single-family buildings multi-story multi-unit buildings. Building type Originally called \"building type\" (Gebäudeart),  classification provides information residential use  residential buildings. distinguishes buildings based much  space used residential purposes. Categories include: Buildings living space: Permanent buildings   either fully partially reserved residential use   households. also includes buildings used administrative   commercial purposes contain least one dwelling used   residential purposes. Buildings living space divided   residential buildings buildings living space. Residential buildings: Buildings least half   total usable floor space used residential purposes. Residential   buildings also include dormitories (residents run   household). Dormitories: Dormitories residential buildings   primarily serve housing needs certain groups population   (e.g. student residences, retirement homes). Dormitories common   rooms. Residents dormitories run households. buildings living space: Buildings   less half total floor space used residential   purposes, e.g. building predominantly occupied   stores offices. Building design Originally called \"building type construction  design\" (Gebäudetyp-Bauweise), classification specifies  morphological design building, .e. whether detached,  semi-detached, terraced something else.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"citizens-citizenship","dir":"Reference","previous_headings":"","what":"Citizens / Citizenship","title":"Definitions and explanations for common Census terms — glossary","text":"Persons German citizenship counted German citizens. assigning citizenship, distinction made persons German non-German citizenship. Persons German citizenship considered German, regardless existence citizenships. Members German Armed Forces, police authorities Foreign Service working abroad families residing included analysis, assigned regionally grid cell level Germany.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"core-family","dir":"Reference","previous_headings":"","what":"Core family","title":"Definitions and explanations for common Census terms — glossary","text":"characteristic indicates type core family according national typification, .e. according reference person principle, taking account secondary residents. core family consists two persons belonging private household made reference person private household - central person private household defined age, marital status gender - least one person, e.g. partner child reference person. family concept restricts relationships ancestors descendants direct relationships (first degree), .e. relationships parents children. one core family can exist household. persons living household assigned core family. household without core family possible. type core family depends type couple relationship gender single parent, presence age (18) children. term marriage differentiated according gender married persons. Persons shared accommodation included , persons household. range terms relate core families: couple comprises married couples, couples  registered civil partnership couples non-marital partnership  live together private household. married couple couple married according legal  marital status reference date living private household. registered civil partnership (ELP) legally  recognized -sex couple private household according legal  marital status reference date. non-marital partnership (NELG) mixed-sex couple  private household married according  legal marital status reference date. single mother single father parent  without partner least one child within private household. child biological son, stepson adopted son  biological daughter, stepdaughter adopted daughter (regardless age)  whose usual place residence private household least one  parent one parent caregiver /partner caregiver. senior defined person reached  age 65 census date.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"dwelling","dir":"Reference","previous_headings":"","what":"Dwelling","title":"Definitions and explanations for common Census terms — glossary","text":"dwelling defined rooms closed outside, intended residential purposes, usually located together, enable management separate household used entirely commercial purposes. dwelling necessarily contain kitchen kitchenette. Apartments entrance directly outside, stairwell vestibule. However, dwelling may also include basement floor rooms (e.g. attics) developed residential purposes outside actual end dwelling.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"floor-space","dir":"Reference","previous_headings":"","what":"Floor space","title":"Definitions and explanations for common Census terms — glossary","text":"determine floor space, following areas taken account: full: floor areas rooms parts rooms clear  height least 2 meters half: floor areas rooms parts rooms clear  height least 1 meter less 2 meters; unheatable observatories,  swimming pools, similar rooms closed sides generally quarter, half: areas  balconies, loggias, roof gardens, terraces","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"foreigners","dir":"Reference","previous_headings":"","what":"Foreigners","title":"Definitions and explanations for common Census terms — glossary","text":"Persons non-German nationality counted foreigners. assigning nationality, distinction made persons German non-German nationality. Persons German citizenship considered German, regardless existence citizenships.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"household","dir":"Reference","previous_headings":"","what":"Household","title":"Definitions and explanations for common Census terms — glossary","text":"private household consists least one person. based \"concept communal living\": persons live together dwelling, regardless residential status (sole residence, main secondary residence), considered members private household, meaning one private household per occupied dwelling. maximum one core family household. persons living household assigned core family.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"heating-type","dir":"Reference","previous_headings":"","what":"Heating type","title":"Definitions and explanations for common Census terms — glossary","text":"characteristic reflects type heating building. evaluation carried dwellings. predominant type heating building broken according spatial unit (district, building block, building, dwelling, room) heated heating system. passive houses, systems heat recovery/controlled ventilation systems considered \"heating\" assigned accordingly (usually: central heating). District heating , entire residential districts supplied  heat central district heating plant (-called district  heating). Self-contained central heating Self-contained central  heating refers central heating system rooms self-contained  dwelling, whereby heating source (example, gas boiler) usually  located within dwelling. Block heating Block heating block entire houses  heated central heating system heating source located  one buildings immediate vicinity (-called local  heating). Central heating central heating, residential units  building heated central heating point located within  building (usually basement). also includes heat pumps. Single multi-room stoves Individual stoves (coal  night storage stoves) heat room located  one time. usually permanently installed. multi-room stove (e.g.  tiled stove) heats several rooms time (also air ducts).  heating building dwellings","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"marital-status","dir":"Reference","previous_headings":"","what":"Marital status","title":"Definitions and explanations for common Census terms — glossary","text":"marital status indicates person's marital status personal law. marital status personal law determined accordance Personenstandsgesetz (PStG) Lebenspartnerschaftsgesetz (LPartG). introduction right marriage persons sex (Eheöffnungsgesetz) allowed -sex couples marry since October 1, 2017. establishment new registered civil partnerships Lebenspartnerschaftsgesetz (LPartG) longer possible since October 1, 2017. Unless existing civil partnerships converted marriage, registered civil partnerships remain place.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"net-rent","dir":"Reference","previous_headings":"","what":"Net rent","title":"Definitions and explanations for common Census terms — glossary","text":"average net rent per square meter ratio total rent per square meter dwellings total number dwellings. calculation made rented dwellings residential buildings (excluding dormitories). Dwellings rented excluded calculation.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"ownership","dir":"Reference","previous_headings":"","what":"Ownership","title":"Definitions and explanations for common Census terms — glossary","text":"Ownership divided home ownership property ownership. Home ownership determines entitled ownership dwelling building divided according Wohneigentumsgesetz (WEG) property ownership determines entitled ownership building. Owners can private individuals legal entities. ownership rate represents share owner-occupied dwellings occupied dwellings. taken account: Vacant dwellings, vacation leisure dwellings commercially used dwellings. calculation made dwellings residential buildings (excluding halls residence).","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"place-of-birth","dir":"Reference","previous_headings":"","what":"Place of birth","title":"Definitions and explanations for common Census terms — glossary","text":"Persons born August 2, 1945 former German eastern territories within borders Germany 1937 counted born abroad, assigned German state code. place birth within borders, current state code assigned. Places birth countries merged countries, Soviet Union Yugoslavia, assigned countries exist today wherever possible. EU27 Comprises member states European Union 15 May  2022, previously last amended UK's withdrawal 2020. Persons born  Czechoslovakia also included \"EU27 country (2020)\"  current country codes. Croatia also included following accession  EU July 1, 2013. Europe Includes Russian Federation Turkey well  current country codes former Soviet Union former  Yugoslavia. Great Britain assigned following withdrawal  EU. World Includes countries. category includes  current country codes former Soviet Union  assigned \"Europe\". Includes \"specified\".","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"residents","dir":"Reference","previous_headings":"","what":"Residents","title":"Definitions and explanations for common Census terms — glossary","text":"resident assigned address thus grid cell side length 100 m, 1 km 10 km. Members German Armed Forces, police authorities Foreign Service working abroad families living included analysis, assigned regionally grid cell level Germany.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"room","dir":"Reference","previous_headings":"","what":"Room","title":"Definitions and explanations for common Census terms — glossary","text":"room either living room, dining room, bedroom separate room (e.g. habitable cellar floor rooms) least 6 square meters size well self-contained kitchens, regardless size. Bathrooms, toilets, hallways utility rooms generally counted. living room dining area, sleeping alcove kitchenette counted one room. Accordingly, dwellings structural separation individual living areas (e.g. -called \"loft dwellings\") consist one room.","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"source-of-heating","dir":"Reference","previous_headings":"","what":"Source of heating","title":"Definitions and explanations for common Census terms — glossary","text":"characteristic shows energy source heating building. evaluation carried dwellings. Energy source used heat building. several energy sources building, one heats largest part living space. passive houses, residual heat requirement covered additional source, specified . Gas Heating oil Wood, wood pellets Biomass (excluding wood), biogas: organic substances produced  plants animals energy can obtained burning. Energy can  obtained combustion. includes straw, organic waste  liquid manure (excluding wood). Biogas produced fermentation  biomass also classified . Solar/geothermal energy, environmental heat, exhaust air heat:  Solar energy well energy water, air earth obtained  help collectors, heat pumps heat exchangers. also  includes heat obtained exhaust air buildings (-called exhaust  air heat). Electricity (without heat pumps) Coal District heating (various heating sources) energy source (heating)","code":""},{"path":"https://jslth.github.io/z22/reference/glossary.html","id":"vacancy","dir":"Reference","previous_headings":"","what":"Vacancy","title":"Definitions and explanations for common Census terms — glossary","text":"vacancy rate (dwellings) represents ratio vacant dwelligngs occupied vacant dwellings. market-active vacancy rate represents proportion vacant dwellings available within three months percentage dwellings residential buildings. taken account: Vacation leisure dwellings well commercially used dwellings. calculation made dwellings residential buildings (excluding halls residence).","code":""},{"path":"https://jslth.github.io/z22/reference/inspire.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate INSPIRE IDs — inspire","title":"Generate INSPIRE IDs — inspire","text":"Given pairs coordinates, generates INSPIRE grid representation. Given INSPIRE identifiers, can also extract X Y coordinates. INSPIRE ID contains information CRS, cell size ETRS89-LAEA coordinates south-west corner grid cell format. relevant first digits used place full coordinates. case res = \"100km\", first two digits, res = \"100m\" first five digits. legacy format always uses meters legacy formats aggregates cell sizes greater equal 1000m km.","code":"CRS3035{cellsize}mN{y}E{x} # new format {cellsize}N{y}E{x}         # legacy format"},{"path":"https://jslth.github.io/z22/reference/inspire.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate INSPIRE IDs — inspire","text":"","code":"z22_inspire_generate(coords, res = NULL, legacy = FALSE)  z22_inspire_extract(inspire, as_sf = FALSE)"},{"path":"https://jslth.github.io/z22/reference/inspire.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate INSPIRE IDs — inspire","text":"coords list, matrix, dataframe X Y coordinates either columns \"x\" \"y\" first second column position, respectively. Column names converted lowercase. Can also sf/sfc object case coordinates extracted using st_coordinates. res Resolution grid. Can \"100m\", \"250m\", \"1km\", \"5km\", \"10km\", \"100km\". NULL, tries guess resolution provided coordinates. legacy TRUE, generates legacy INSPIRE ID. Defaults FALSE. inspire vector INSPIRE IDs. Can either legacy non-legacy. as_sf Whether return object class sfc tibble.","code":""},{"path":"https://jslth.github.io/z22/reference/inspire.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate INSPIRE IDs — inspire","text":"z22_inspire_generate returns character vector containing INSPIRE identifiers. z22_inspire_extract returns dataframe sfc object containing points extracted INSPIRE identifiers. Note returned coordinates always centers grid cells opposed south-west corners.","code":""},{"path":"https://jslth.github.io/z22/reference/inspire.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate INSPIRE IDs — inspire","text":"remain fast even huge grid datasets, function just simple sprintf wrapper performs input checks. produce valid INSPIRE identifiers, make sure transform data ETRS89-LAEA (e.g. using st_transform(..., 3035)). also make sure coordinates south-west corner existing INSPIRE grid cells.","code":""},{"path":"https://jslth.github.io/z22/reference/inspire.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate INSPIRE IDs — inspire","text":"","code":"library(dplyr, warn.conflicts = FALSE)  # Generate IDs from a dataframe coords <- tibble(x = c(4334150, 4334250), y = c(2684050, 2684050)) z22_inspire_generate(coords) |>   z22_inspire_extract() |>   identical(coords) #> [1] TRUE  # Extract coordinates from legacy ID strings z22_inspire_extract(\"100mN34000E44000\") #> # A tibble: 1 × 2 #>         x       y #>     <dbl>   <dbl> #> 1 4400050 3400050  # Generate IDs from an sf dataframe if (requireNamespace(\"sf\", quietly = TRUE)) {   coords <- sf::st_as_sf(coords, coords = c(\"x\", \"y\"))   z22_inspire_generate(coords) } #> [1] \"CRS3035RES100mN26840E43341\" \"CRS3035RES100mN26840E43342\""},{"path":"https://jslth.github.io/z22/reference/z22-package.html","id":null,"dir":"Reference","previous_headings":"","what":"z22: Official Gridded Data from the German Census 2022 — z22-package","title":"z22: Official Gridded Data from the German Census 2022 — z22-package","text":"Quickly efficiently retrieve gridded census data Germany's 2011 2022 censuses.","code":""},{"path":[]},{"path":"https://jslth.github.io/z22/reference/z22-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"z22: Official Gridded Data from the German Census 2022 — z22-package","text":"Maintainer: Jonas Lieth jonas.lieth@gesis.org [copyright holder]","code":""},{"path":"https://jslth.github.io/z22/reference/z22_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Census 2022 grid dataset — z22_data","title":"Get Census 2022 grid dataset — z22_data","text":"Retrieve values coordinates gridded features censuses 2011 2022. talking feature, talk indicator aggregated grid cells,  e.g., age number dwellings. category, talk discrete classifications  features, e.g., ages 10 19, 20 20, 30 39, etc. feature category provided uniquely identify  dataset.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Census 2022 grid dataset — z22_data","text":"","code":"z22_data(   feature,   categories = NULL,   year = 2022,   res = \"1km\",   all_cells = FALSE,   normalize = FALSE,   rasterize = FALSE,   as_sf = FALSE,   update_cache = FALSE )"},{"path":"https://jslth.github.io/z22/reference/z22_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Census 2022 grid dataset — z22_data","text":"feature grid feature. See z22_features list available features. can pass English names legacy names (.e., variable names 2011 census). categories One multiple feature categories. See z22_categories list available categories. NULL, retrieves categories given feature. Generally, categories selected, longer download. year Census year. Currently, 2011 2022 available. Defaults 2022. res Resolution grid dataset. Can \"100m\", \"1km\", \"10km\". year 2011, \"10km\" available features available certain resolutions. all_cells TRUE, joins retrieved attribute complete grid z22_grid. Otherwise, attribute grid contain grid cells one recorded units. Defaults FALSE, loading grid joining computationally expensive. normalize TRUE feature counted feature, computes shares dividing counts total number units grid cell. type unit depends theme feature, e.g., feature theme \"Buildings\", feature counts divided total number buildings. Note operation requires additional download (total number units). Also note sometimes (possibly due key-cell method), shares 1 computed. Defaults FALSE. rasterize TRUE terra package installed, converts attribute coordinates SpatRaster. as_sf TRUE sf package installed, converts attribute coordinates sf tibble. update_cache default, functions cache attribute files remainder R session. downloaded temporary directory - file download already exists - recovered cache. words, rerunning request multiple times, subsequent calls much faster. TRUE, disables caching call overwrites currently cached attribute file () fresh one. Defaults FALSE, .e. always cache.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Census 2022 grid dataset — z22_data","text":"tibble, SpatRasterDataset sf tibble depending rasterize as_sf arguments. tibble returned category categories stored column. SpatRasterDataset returned, category named layer.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Census 2022 grid dataset — z22_data","text":"Half grids cell width added coordinate dataset internally. According INSPIRE guidelines, coordinates always represent South-west grid cells. Centroids represent geographic location grid cells better used.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Census 2022 grid dataset — z22_data","text":"","code":"# Get gridded population pop <- z22_data(\"population\", res = \"10km\", rasterize = TRUE) terra::plot(pop$cat_0)   # Get data about the number of people born in a EU27 country z22_data(\"birth_country\", categories = 21, res = \"1km\") #> # A tibble: 210,556 × 3 #>    cat_21       x       y #>     <int>   <dbl>   <dbl> #>  1      3 4338000 2690000 #>  2     NA 4342000 2690000 #>  3     NA 4342000 2691000 #>  4     NA 4341000 2692000 #>  5      3 4342000 2692000 #>  6     NA 4342000 2693000 #>  7      3 4345000 2693000 #>  8      3 4341000 2694000 #>  9     NA 4342000 2694000 #> 10     NA 4344000 2694000 #> # ℹ 210,546 more rows"},{"path":"https://jslth.github.io/z22/reference/z22_decode.html","id":null,"dir":"Reference","previous_headings":"","what":"Decode and translate features and categories — z22_decode","title":"Decode and translate features and categories — z22_decode","text":"Replace category codes labels.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_decode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Decode and translate features and categories — z22_decode","text":"","code":"z22_decode(codes, feature, lang = c(\"english\", \"german\"))"},{"path":"https://jslth.github.io/z22/reference/z22_decode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Decode and translate features and categories — z22_decode","text":"codes vector character codes, possibly prefixed \"cat_\". feature grid feature category codes belong . lang Specifies language output description. Can either \"english\" (default) \"german\". Note English descriptions ad-hoc translations based German originals.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_decode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Decode and translate features and categories — z22_decode","text":".data category codes decoded labels.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_decode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Decode and translate features and categories — z22_decode","text":"","code":"# retrieves a the translation of cat codes directly z22_decode(1, \"marital_status\") #> [1] \"Single\"  # recycles codes z22_decode(c(1, 1, 1), \"marital_status\") #> [1] \"Single\" \"Single\" \"Single\"  # undefined codes are returned as NA z22_decode(c(1, 2, 3), feature = \"sex\") #> [1] \"Male\"   \"Female\" NA        # special case: cat_* strings z22_decode(\"cat_2\", feature = \"sex\") #> [1] \"Female\""},{"path":"https://jslth.github.io/z22/reference/z22_features.html","id":null,"dir":"Reference","previous_headings":"","what":"Features — z22_features","title":"Features — z22_features","text":"Get list available features. get list categories, see z22_categories. clarification terms used feature labels, see glossary.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Features — z22_features","text":"","code":"z22_features(theme = NULL, year = NULL, res = NULL, legacy_names = FALSE)"},{"path":"https://jslth.github.io/z22/reference/z22_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Features — z22_features","text":"theme Theme feature. Available themes \"population\", \"families\", \"households\", \"dwellings\", \"buildings\". NULL, returns features themes. year Census year. Can 2011 2022. NULL, returns features years. res Resolution feature grid. Can \"100m\", \"1km\", \"10km\". Census 2011, 100m 1km available features available resolutions. Census 2022, features available resolutions. NULL, returns features resolutions. legacy_names TRUE, uses legacy (german) feature names Census 2011 possible. Defaults FALSE.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Features — z22_features","text":"tibble containing following columns: theme: Theme feature feature: Feature name desc: Human-readable english description z22: Whether feature available Census 2022 z11_100m: Whether feature available Census 2011  100m resolution z11_1km: Whether feature available Census 2011  1km resolution has_cat: Whether feature divided  categories.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_features.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Features — z22_features","text":"","code":"# return all features related to dwellings z22_features(\"dwellings\") #> # A tibble: 19 × 8 #>    theme     feature               english german z22   z11_100m z11_1km has_cat #>    <chr>     <chr>                 <chr>   <chr>  <lgl> <lgl>    <lgl>   <lgl>   #>  1 Dwellings dwellings             Total … Gesam… TRUE  TRUE     FALSE   FALSE   #>  2 Dwellings rent_avg              Averag… Durch… TRUE  FALSE    FALSE   FALSE   #>  3 Dwellings dwelling_occupancy    Use by… Nutzu… FALSE TRUE     FALSE   TRUE    #>  4 Dwellings dwelling_ownership_h… Owners… Eigen… FALSE TRUE     FALSE   TRUE    #>  5 Dwellings dwelling_ownership_p… Dwelli… Wohnu… FALSE TRUE     FALSE   TRUE    #>  6 Dwellings owner_occupier        Share … Eigen… TRUE  FALSE    FALSE   FALSE   #>  7 Dwellings vacancies             Share … Leers… TRUE  FALSE    TRUE    FALSE   #>  8 Dwellings market_vacancies      Share … Markt… TRUE  FALSE    FALSE   FALSE   #>  9 Dwellings inhabitant_space      Averag… Durch… TRUE  FALSE    TRUE    FALSE   #> 10 Dwellings dwelling_space        Averag… Durch… TRUE  FALSE    TRUE    FALSE   #> 11 Dwellings floor_space           Floor … Fläch… TRUE  TRUE     FALSE   TRUE    #> 12 Dwellings dwelling_rooms        Dwelli… Wohnu… TRUE  TRUE     FALSE   TRUE    #> 13 Dwellings dwelling_constr_year  Dwelli… Wohnu… FALSE TRUE     FALSE   TRUE    #> 14 Dwellings dwelling_building_dw… Dwelli… Wohnu… FALSE TRUE     FALSE   FALSE   #> 15 Dwellings dwelling_building_si… Dwelli… Wohnu… TRUE  TRUE     FALSE   TRUE    #> 16 Dwellings dwelling_building_ty… Dwelli… Wohnu… FALSE TRUE     FALSE   TRUE    #> 17 Dwellings dwelling_building_de… Dwelli… Wohnu… FALSE TRUE     FALSE   TRUE    #> 18 Dwellings dwelling_heat_type    Dwelli… Wohnu… TRUE  TRUE     FALSE   TRUE    #> 19 Dwellings dwelling_heat_src     Dwelli… Wohnu… TRUE  FALSE    FALSE   TRUE     # return all features available in the Census 2011 z22_features(year = 2011) #> Error in features[[col]]: Can't extract column with `col`. #> ✖ Subscript `col` must be size 1, not 2.  # return all features available in 2011 at a 1km resolution z22_features(year = 2011, res = \"1km\") #> # A tibble: 10 × 8 #>    theme      feature            english   german z22   z11_100m z11_1km has_cat #>    <chr>      <chr>              <chr>     <chr>  <lgl> <lgl>    <lgl>   <lgl>   #>  1 Population population         Populati… Bevöl… TRUE  TRUE     TRUE    FALSE   #>  2 Population foreigners         Share of… Auslä… TRUE  FALSE    TRUE    FALSE   #>  3 Population women              Share of… Fraue… FALSE FALSE    TRUE    FALSE   #>  4 Population age_avg            Average … Durch… TRUE  FALSE    TRUE    FALSE   #>  5 Population age_under_18       Share of… Antei… TRUE  FALSE    TRUE    FALSE   #>  6 Population age_from_65        Share of… Antei… TRUE  FALSE    TRUE    FALSE   #>  7 Households household_size_avg Average … Durch… TRUE  FALSE    TRUE    FALSE   #>  8 Dwellings  vacancies          Share of… Leers… TRUE  FALSE    TRUE    FALSE   #>  9 Dwellings  inhabitant_space   Average … Durch… TRUE  FALSE    TRUE    FALSE   #> 10 Dwellings  dwelling_space     Average … Durch… TRUE  FALSE    TRUE    FALSE"},{"path":"https://jslth.github.io/z22/reference/z22_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Get INSPIRE grid — z22_grid","title":"Get INSPIRE grid — z22_grid","text":"Retrieve entire INSPIRE grid. Unlike feature grids retrieved z22_data, INSPIRE grid encompasses entire area Germany. can thus use join incomplete feature grids z22_data create complete dataset.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get INSPIRE grid — z22_grid","text":"","code":"z22_grid(   res,   year = 2019,   rasterize = FALSE,   as_sf = FALSE,   update_cache = FALSE )"},{"path":"https://jslth.github.io/z22/reference/z22_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get INSPIRE grid — z22_grid","text":"res Resolution grid. Can \"100m\", \"250m\", \"1km\", \"5km\", \"10km\", \"100km\". year Version grid. Can 2015, 2017, 2018 2019. Defaults latest version. rasterize TRUE terra package installed, converts attribute coordinates SpatRaster. as_sf TRUE sf package installed, converts attribute coordinates sf tibble. update_cache default, functions cache attribute files remainder R session. downloaded temporary directory - file download already exists - recovered cache. words, rerunning request multiple times, subsequent calls much faster. TRUE, disables caching call overwrites currently cached attribute file () fresh one. Defaults FALSE, .e. always cache.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get INSPIRE grid — z22_grid","text":"tibble, SpatRasterDataset sf tibble depending rasterize as_sf arguments. tibble returned category categories stored column. SpatRasterDataset returned, category named layer.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_grid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get INSPIRE grid — z22_grid","text":"Note uncompressed object sizes output (2019 version): 100 m: 38 million cells, 291 MB 250 m: 6 million cells, 47 MB 1 km: 384 thousand cells, 3 MB 5 km: 16 thousand cells, 0.12 MB 10 km: 4 thousand cells, 0.03 MB","code":""},{"path":"https://jslth.github.io/z22/reference/z22_grid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get INSPIRE grid — z22_grid","text":"","code":"# Get high-res grid as tibble z22_grid(\"100m\") #> # A tibble: 38,171,748 × 2 #>          x       y #>      <int>   <int> #>  1 4334150 2684050 #>  2 4334250 2684050 #>  3 4334350 2684050 #>  4 4334450 2684050 #>  5 4334550 2684050 #>  6 4334150 2684150 #>  7 4334250 2684150 #>  8 4334350 2684150 #>  9 4334450 2684150 #> 10 4334550 2684150 #> # ℹ 38,171,738 more rows  # Get low-res grid as raster z22_grid(\"1km\", rasterize = TRUE) #> class       : SpatRasterDataset  #> subdatasets : 0"},{"path":"https://jslth.github.io/z22/reference/z22_pivot_longer.html","id":null,"dir":"Reference","previous_headings":"","what":"Cast feature grid to a long table — z22_pivot_longer","title":"Cast feature grid to a long table — z22_pivot_longer","text":"Helper function convert output z22_data long table. can useful plotting data wrangling tasks. Note pivoting can quickly become expensive larger 100m grids.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_pivot_longer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cast feature grid to a long table — z22_pivot_longer","text":"","code":"z22_pivot_longer(.data, feature, lang = c(\"english\", \"german\"))"},{"path":"https://jslth.github.io/z22/reference/z22_pivot_longer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cast feature grid to a long table — z22_pivot_longer","text":".data Output z22_data. feature grid feature represented .data. lang Specifies language output description. Can either \"english\" (default) \"german\". Note English descriptions ad-hoc translations based German originals.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_pivot_longer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cast feature grid to a long table — z22_pivot_longer","text":"dataframe containing columns category, value, x y. non-category columns preserved.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_pivot_longer.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cast feature grid to a long table — z22_pivot_longer","text":"Note columns starting \"cat_*\" automatically used pivoting.","code":""},{"path":"https://jslth.github.io/z22/reference/z22_pivot_longer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cast feature grid to a long table — z22_pivot_longer","text":"","code":"# get feature grid age <- z22_data(\"age_short\", res = \"10km\")  # pivot to a long table z22_pivot_longer(age, feature = \"age_short\") #> # A tibble: 19,110 × 4 #>    category value       x       y #>    <fct>    <int>   <dbl>   <dbl> #>  1 Under 18    NA 4340000 2690000 #>  2 Under 18    NA 4350000 2690000 #>  3 Under 18    53 4340000 2700000 #>  4 Under 18   810 4350000 2700000 #>  5 Under 18     3 4420000 2700000 #>  6 Under 18     5 4330000 2710000 #>  7 Under 18   486 4340000 2710000 #>  8 Under 18  1431 4350000 2710000 #>  9 Under 18   133 4360000 2710000 #> 10 Under 18   431 4400000 2710000 #> # ℹ 19,100 more rows"}]
